\documentclass{amsbook}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

% Librerias Personales
\usepackage{framed}
\usepackage{subfiles} % Documento modular
\usepackage[utf8]{inputenc} % Acentos simples
\usepackage{bm} % Simbolos matematicos en negrita

\usepackage[ruled, linesnumbered]{algorithm2e}

% Modelos Graficos
\usepackage{tikz}

% Sub-figuras
\usepackage[format=hang,singlelinecheck=0,font={sf,small},labelfont=normal]{subfig}
\captionsetup[subfigure]{subrefformat=simple,labelformat=simple,listofformat=subsimple,justification=centering} %
\renewcommand\thesubfigure{(\alph{subfigure})}
\usepackage{etoolbox}
\robustify{\subref}

% TODO personalisados
\usepackage[disable]{todonotes}
%\usepackage{todonotes} % Notas
\newcommand\NC[1]{\todo[color=green]{NicoCaro: \\ #1}}
\newcommand\FT[1]{\todo[color=pink!80]{FT: \\ #1}}

\SetKwBlock{Repeat}{repeat}{}

% TOC
\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}

% Teoremas
\newtheoremstyle{mytheoremstyle} % name
    {5pt}                    % Space above
    {5pt}                    % Space below
    {}                   % Body font
    {}                           % Indent amount
    {\bfseries}                   % Theorem head font
    {.}                          % Punctuation after theorem head
    {.5em}                       % Space after theorem head
    {}  % Theorem head spec (can be left empty, meaning ‘normal’)

\theoremstyle{mytheoremstyle}
%\newtheorem{thm}{Theorem}{Teorema}
\newtheorem{theorem}{Teorema}[chapter]
\newtheorem{lemma}[theorem]{Lema}
\newtheorem{proposition}{Proposición}
\newtheorem{definition}[theorem]{Definición}

\theoremstyle{plain}
\newtheorem{example}[theorem]{Ejemplo}
\newtheorem{xca}[theorem]{Ejercicio}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Observación}

\numberwithin{section}{chapter}
\numberwithin{equation}{chapter}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% Absolute value notation
\newcommand{\abs}[1]{\lvert#1\rvert}

%    Blank box placeholder for figures (to avoid requiring any
%    particular graphics capabilities for printing this document).
\newcommand{\blankbox}[2]{%
  \parbox{\columnwidth}{\centering
%    Set fboxsep to 0 so that the actual size of the box will match the
%    given measurements more closely.
    \setlength{\fboxsep}{0pt}%
    \fbox{\raisebox{0pt}[#2]{\hspace{#1}}}%
  }%
}

% Insertar figura dummy
\newcommand{\dummyfig}[2]{%
\begin{figure}[tb]
    \label{#1}
	\blankbox{.6\columnwidth}{5pc}
	\caption{#2}
\end{figure}
}

% Insertar ecuaciones
\newcommand{\toLatex}[1]{%
\begin{framed}
\includegraphics[width=1\columnwidth]{toLatex/#1}%
\end{framed}
}

% Inclusion especifica de secciones para debug.
% \includeonly{preface,chap1,biblio,index}
\begin{document}

\setlength{\belowdisplayshortskip}{10pt}
\setlength{\abovedisplayshortskip}{10pt}

\frontmatter

\begin{titlepage}
\begin{center}
\Huge{\textbf{Monografía sobre Aprendizaje Automático}}\\[1cm]
\Large{Nicolás Caro}\\[1cm]
\large{Departamento de Ingeniería Matemática, Universidad de Chile, Santiago.}\\[1cm]
\large{ncaro@dim.uchile.cl}\\
\vspace*{\fill}
\large{\today}

\end{center}
\end{titlepage}

\setcounter{page}{4}
\tableofcontents

\subfile{./misc/preface}

\mainmatter
\subfile{./capitulos/cap1}
\subfile{./capitulos/cap2}
\subfile{./capitulos/cap3}
\subfile{./capitulos/cap4}

\backmatter
\appendix
\subfile{./capitulos/cap5}
\subfile{./misc/biblio}
%\subfile{./misc/index}

\end{document}
